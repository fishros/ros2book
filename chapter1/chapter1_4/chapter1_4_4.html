

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.4.4 Writing C++ Programs in Linux &mdash; Hands-On ROS 2 for Robotics Programming v1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5cb08e4e"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.4.5 Linux Basics: Environment Variables" href="chapter1_4_5.html" />
    <link rel="prev" title="1.4.3 Writing Python Programs in Linux" href="chapter1_4_3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Hands-On ROS 2 for Robotics Programming
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Chapter 1: Get-Started —— Bringing Your First Robot to Life</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../chapter1.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1_1/chapter1_1.html">1.1 Introduction to the ROS Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1_2/chapter1_2.html">1.2 Setting Up the Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1_3/chapter1_3.html">1.3 Running Your First Robot</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="chapter1_4.html">1.4 Linux Basics for ROS 2</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="chapter1_4_1.html">1.4.1 Basic Linux Terminal Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="chapter1_4_2.html">1.4.2 Installing Software in Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="chapter1_4_3.html">1.4.3 Writing Python Programs in Linux</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.4.4 Writing C++ Programs in Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="chapter1_4_5.html">1.4.5 Linux Basics: Environment Variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1_5/chapter1_5.html">1.5 Chapter Summary and Review</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../chapter2/index.html">Chapter 2. Getting Started with ROS 2 Basics—Starting with the First Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapter3/index.html">Chapter 3. Subscribing and Publishing—Exploring Topic Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Hands-On ROS 2 for Robotics Programming</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Chapter 1: Get-Started —— Bringing Your First Robot to Life</a></li>
          <li class="breadcrumb-item"><a href="chapter1_4.html">1.4 Linux Basics for ROS 2</a></li>
      <li class="breadcrumb-item active">1.4.4 Writing C++ Programs in Linux</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/chapter1/chapter1_4/chapter1_4_4.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="writing-c-programs-in-linux">
<h1>1.4.4 Writing C++ Programs in Linux<a class="headerlink" href="#writing-c-programs-in-linux" title="Link to this heading"></a></h1>
<p>With the experience of writing Python code, writing C++ programs is also straightforward. Create a new file <cite>hello_world.cpp</cite> in the <cite>chapt1</cite> directory and enter the content from Listing 1-25. Then, save the code and run it.</p>
<p><strong>Listing 1-25: hello_world.cpp</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello World !&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can directly use the command-line tool <cite>g++</cite> to compile the code in Ubuntu. Open the integrated terminal, navigate to the <cite>chapt1</cite> directory, and enter the command in Listing 1-26 to compile the <cite>hello_world.cpp</cite> code using <cite>g++</cite>.</p>
<p><strong>Listing 1-26: Compiling hello_world.cpp Using g++</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>g++<span class="w"> </span>hello_world.cpp
$<span class="w"> </span>ls
---
a.out<span class="w"> </span>hello_world.cpp<span class="w"> </span>hello_world.py
</pre></div>
</div>
<p>After compilation, you’ll notice that a new file <cite>a.out</cite> has been created in the directory. The file name is displayed in green, indicating that it is an executable file. Use the command in Listing 1-27 to execute this file.</p>
<p><strong>Listing 1-27: Executing a.out</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./a.out
---
Hello<span class="w"> </span>World<span class="w"> </span>!
</pre></div>
</div>
<p>Using <cite>g++</cite> to compile simple code files is very convenient. However, for complex code with various dependencies, the CMake tool is more suitable. Create a new file <cite>CMakeLists.txt</cite> in the <cite>chapt1</cite> directory and enter the content from Listing 1-28.</p>
<p><strong>Listing 1-28: CMakeLists.txt File</strong></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="w"> </span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.8</span><span class="p">)</span>
<span class="nb">project</span><span class="w"> </span><span class="p">(</span><span class="s">HelloWorld</span><span class="p">)</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">learn_cmake</span><span class="w"> </span><span class="s">hello_world.cpp</span><span class="p">)</span>
</pre></div>
</div>
<p>The <cite>CMakeLists.txt</cite> file contains three lines of instructions. The first line specifies the minimum required version of CMake for building the project. The second line declares the project name. The third line adds an executable file, where <cite>learn_cmake</cite> is the name of the executable file, and <cite>hello_world.cpp</cite> is the path to the source file relative to <cite>CMakeLists.txt</cite>.</p>
<p>After writing and saving the file, navigate to the <cite>chapt1</cite> directory in the terminal and enter the command in Listing 1-29 to convert <cite>CMakeLists.txt</cite> into a <cite>Makefile</cite>.</p>
<p><strong>Listing 1-29: Generating Makefile Using cmake</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cmake<span class="w"> </span>.
---
--<span class="w"> </span>The<span class="w"> </span>C<span class="w"> </span>compiler<span class="w"> </span>identification<span class="w"> </span>is<span class="w"> </span>GNU<span class="w"> </span><span class="m">11</span>.4.0
--<span class="w"> </span>The<span class="w"> </span>CXX<span class="w"> </span>compiler<span class="w"> </span>identification<span class="w"> </span>is<span class="w"> </span>GNU<span class="w"> </span><span class="m">11</span>.4.0
--<span class="w"> </span>Detecting<span class="w"> </span>C<span class="w"> </span>compiler<span class="w"> </span>ABI<span class="w"> </span>info
--<span class="w"> </span>Detecting<span class="w"> </span>C<span class="w"> </span>compiler<span class="w"> </span>ABI<span class="w"> </span>info<span class="w"> </span>-<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Check<span class="w"> </span><span class="k">for</span><span class="w"> </span>working<span class="w"> </span>C<span class="w"> </span>compiler:<span class="w"> </span>/usr/bin/cc<span class="w"> </span>-<span class="w"> </span>skipped
--<span class="w"> </span>Detecting<span class="w"> </span>C<span class="w"> </span>compile<span class="w"> </span>features
--<span class="w"> </span>Detecting<span class="w"> </span>C<span class="w"> </span>compile<span class="w"> </span>features<span class="w"> </span>-<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Detecting<span class="w"> </span>CXX<span class="w"> </span>compiler<span class="w"> </span>ABI<span class="w"> </span>info
--<span class="w"> </span>Detecting<span class="w"> </span>CXX<span class="w"> </span>compiler<span class="w"> </span>ABI<span class="w"> </span>info<span class="w"> </span>-<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Check<span class="w"> </span><span class="k">for</span><span class="w"> </span>working<span class="w"> </span>CXX<span class="w"> </span>compiler:<span class="w"> </span>/usr/bin/c++<span class="w"> </span>-<span class="w"> </span>skipped
--<span class="w"> </span>Detecting<span class="w"> </span>CXX<span class="w"> </span>compile<span class="w"> </span>features
--<span class="w"> </span>Detecting<span class="w"> </span>CXX<span class="w"> </span>compile<span class="w"> </span>features<span class="w"> </span>-<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Configuring<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Generating<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Build<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to:<span class="w"> </span>/home/fishros/chapt1
</pre></div>
</div>
<p>The <cite>cmake</cite> command is used to build the <cite>CMakeLists.txt</cite> file. The <cite>.</cite> parameter indicates that <cite>CMakeLists.txt</cite> is located in the same directory as the terminal. After the build is complete, the result files will be generated in the current directory, including the <cite>Makefile</cite>. The <cite>Makefile</cite> can be read by the <cite>make</cite> command to compile the code. Continue by entering the command in Listing 1-30 in the terminal.</p>
<p><strong>Listing 1-30: Compiling Using the make Command</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make
---
<span class="o">[</span><span class="w"> </span><span class="m">50</span>%<span class="o">]</span><span class="w"> </span>Building<span class="w"> </span>CXX<span class="w"> </span>object<span class="w"> </span>CMakeFiles/learn_cmake.dir/hello_world.cpp.o
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span><span class="w"> </span>Linking<span class="w"> </span>CXX<span class="w"> </span>executable<span class="w"> </span>learn_cmake
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span><span class="w"> </span>Built<span class="w"> </span>target<span class="w"> </span>learn_cmake
</pre></div>
</div>
<p>The <cite>make</cite> command invokes the compiler to convert the code into an executable file. After running the <cite>make</cite> command, check the files in the <cite>chapt1</cite> directory, and you will see the generated <cite>learn_cmake</cite> executable file. Use the command in Listing 1-31 to execute it.</p>
<p><strong>Listing 1-31: Executing learn_cmake</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./learn_cmake
---
Hello<span class="w"> </span>World<span class="w"> </span>!
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="chapter1_4_3.html" class="btn btn-neutral float-left" title="1.4.3 Writing Python Programs in Linux" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="chapter1_4_5.html" class="btn btn-neutral float-right" title="1.4.5 Linux Basics: Environment Variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, fishros.org.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>